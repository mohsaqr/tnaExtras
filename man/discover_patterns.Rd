% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sequence_patterns.R
\name{discover_patterns}
\alias{discover_patterns}
\title{Discover Sequence Patterns}
\usage{
discover_patterns(
  data,
  type = "ngrams",
  pattern = NULL,
  min_length = 1,
  max_length = 5,
  min_gap = 1,
  max_gap = 3,
  min_support = 0.01,
  min_count = 2,
  test_significance = TRUE,
  correction = "fdr",
  alpha = 0.05,
  start_state = NULL,
  end_state = NULL,
  starts_with = NULL,
  ends_with = NULL,
  contains_state = NULL,
  max_patterns = NULL,
  fast_mode = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{data}{Data frame with sequences in wide format (rows are sequences,
columns are time points). Can also be a group_tna object.}

\item{type}{Type of pattern analysis:
\itemize{
\item \code{"ngrams"} - Extract contiguous n-grams (fastest)
\item \code{"gapped"} - Discover patterns with gaps/wildcards
\item \code{"abstract"} - Detect structural patterns (returns, repetitions, etc.)
\item \code{"full"} - Analyze complete sequence frequencies
}}

\item{pattern}{Specific pattern to search for (e.g., "A->\emph{->B" or c("A", "}", "B")).
If provided, \code{type} is ignored. Supports wildcards: \code{*} (single) and
\code{**} (multi-wildcard).}

\item{min_length}{Minimum pattern length (default: 1)}

\item{max_length}{Maximum pattern length (default: 5)}

\item{min_gap}{Minimum gap size for gapped/abstract patterns (default: 1)}

\item{max_gap}{Maximum gap size for gapped/abstract patterns (default: 3)}

\item{min_support}{Minimum support threshold (default: 0.01)}

\item{min_count}{Minimum count threshold (default: 2)}

\item{test_significance}{Whether to compute statistical significance (default: TRUE)}

\item{correction}{Multiple testing correction (default: "fdr")}

\item{alpha}{Significance level (default: 0.05)}

\item{start_state}{(Deprecated) Filter patterns starting with this state. Use \code{starts_with} instead.}

\item{end_state}{(Deprecated) Filter patterns ending with this state. Use \code{ends_with} instead.}

\item{starts_with}{Filter patterns starting with this state (recommended over \code{start_state})}

\item{ends_with}{Filter patterns ending with this state (recommended over \code{end_state})}

\item{contains_state}{Filter patterns containing this state}

\item{max_patterns}{Maximum patterns to return (default: NULL, return all)}

\item{fast_mode}{Enable optimizations for large datasets (default: TRUE)}

\item{verbose}{Print progress messages (default: TRUE)}
}
\value{
Object of class "sequence_patterns" with patterns, statistics, and metadata
}
\description{
Unified, high-performance function for discovering all types of patterns in sequential data.
Combines n-gram extraction, gapped pattern discovery, abstract structure detection,
and targeted pattern search into a single optimized function.
}
\examples{
\dontrun{
# Filter patterns starting with "plan"
results <- discover_patterns(data, starts_with = "plan")

# Filter patterns ending with "consensus"
results <- discover_patterns(data, ends_with = "consensus")

# Filter patterns with both start and end
results <- discover_patterns(data,
  starts_with = "plan",
  ends_with = "consensus"
)
}
}
