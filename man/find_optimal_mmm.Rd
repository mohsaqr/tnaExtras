% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mmm_clustering.R
\name{find_optimal_mmm}
\alias{find_optimal_mmm}
\title{Find Optimal Number of Clusters for MMM}
\usage{
find_optimal_mmm(
  data,
  k_range = 2:6,
  criterion = c("bic", "aic"),
  n_cores = NULL,
  ...
)
}
\arguments{
\item{data}{A data frame or matrix where rows represent sequences and columns
represent time points. See \code{\link{cluster_mmm}} for details.}

\item{k_range}{An integer vector specifying the range of k values to test.
Default is 2:6.}

\item{criterion}{A character string specifying the selection criterion.
Either "bic" (default) or "aic".}

\item{n_cores}{Integer. Number of cores for parallel processing. If NULL (default),
uses sequential processing. If specified, automatically enables parallel processing.}

\item{...}{Additional arguments passed to \code{\link{cluster_mmm}}}
}
\value{
A list of class \code{mmm_selection_result} containing:
\describe{
\item{optimal_k}{The optimal number of clusters}
\item{best_result}{The complete result object for the optimal model}
\item{all_results}{Named list of all fitted model results}
\item{comparison}{Data frame comparing all models with enhanced metrics including:
\itemize{
\item entropy: Normalized Shannon entropy (0 = perfect separation, 1 = uniform)
\item entropy_relative: KL divergence from uniform distribution (0 = uniform, higher = more separated)
}}
\item{criterion_used}{The selection criterion used}
\item{call}{The matched call}
}
}
\description{
Performs model selection across a range of cluster numbers using information
criteria (AIC or BIC) with comprehensive diagnostics and performance metrics.
Includes enhanced posterior analysis and convergence tracking.
}
\details{
This function fits MMM models for each value in \code{k_range} and selects
the optimal number of clusters based on the specified information criterion.
The comparison includes additional metrics such as posterior certainty,
cluster balance, and convergence rates to aid in model interpretation.
}
\examples{
\dontrun{
# Create example data
data <- data.frame(
  T1 = sample(c("A", "B", "C"), 100, replace = TRUE),
  T2 = sample(c("A", "B", "C"), 100, replace = TRUE),
  T3 = sample(c("A", "B", "C"), 100, replace = TRUE)
)

# Find optimal k using BIC
selection <- find_optimal_mmm(data, k_range = 2:5)
print(selection)

# Access optimal model
best_model <- selection$best_result
}

}
\seealso{
\code{\link{cluster_mmm}}
}
